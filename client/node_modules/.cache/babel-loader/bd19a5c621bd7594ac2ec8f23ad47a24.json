{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jokup\\\\Documents\\\\Node projects\\\\Project1\\\\Git\\\\Gennamon1\\\\Helpme\\\\client\\\\src\\\\components\\\\signin\\\\Signin.js\";\nimport React, { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport ButtonToolbar from \"react-bootstrap/ButtonToolbar\";\nimport Form from \"react-bootstrap/Form\";\nimport { Link } from \"react-router-dom\";\nimport FormGroup from \"react-bootstrap/FormGroup\";\n\nclass Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeUser = event => {\n      this.setState({\n        user: event.target.value\n      });\n    };\n\n    this.changePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.changeSearch = event => {\n      if (event.target.value === \"\") this.setState({\n        searchResult: \"\"\n      });\n      this.setState({\n        searchItem: event.target.value\n      });\n    };\n\n    this.logIn = event => {\n      if (this.state.user === \"\" || this.state.password === \"\") alert(\"Please provide username and passowrd!\");else {\n        fetch(\"api/login/login\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            username: this.state.user,\n            password: this.state.password\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => res.json()).then(data => {\n          if (data.success === false) alert(data.message);else this.props.checkLoginStatus(); //alert(data.message);\n        });\n      }\n      event.preventDefault();\n    };\n\n    this.createAccount = event => {\n      if (this.state.user === \"\" || this.state.password === \"\" || /\\s/.test(this.state.user) || /\\s/.test(this.state.password) || this.state.password.length < 6) {\n        alert(\"You must provide a valid username and password.\\nThey can't include any whitespace.\\nPassword must be atleast 6 characters long.\");\n      } else {\n        fetch(\"api/login/new\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            username: this.state.user,\n            password: this.state.password\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(res => res.json()).then(data => {\n          if (data.success === true) alert(\"User was created succesfully\");else alert(data.message);\n        }); //alert(\"A user was submitted: \" + this.state.user + \" and their password is \" + this.state.password);\n      }\n\n      event.preventDefault();\n    };\n\n    this.logOut = event => {\n      fetch(\"api/login/logout\").then(res => res.json()).then(data => {\n        this.props.checkLoginStatus(); //alert(data.message);\n      });\n      event.preventDefault();\n    };\n\n    this.searchUser = () => {\n      fetch(\"/userpage/api/check/\" + encodeURIComponent(this.state.searchItem)).then(res => res.json()).then(data => {\n        if (data.success === false) this.setState({\n          searchResult: {}\n        });else if (data.success === true) this.setState({\n          searchResult: data.users\n        });\n      });\n    };\n\n    this.state = {\n      user: \"\",\n      password: \"\",\n      searchItem: \"\",\n      searchResult: \"\"\n    };\n  }\n\n  render() {\n    let searchResult;\n\n    if (this.state.searchResult === \"not found\") {\n      searchResult = React.createElement(\"p\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"No such user found\");\n    } else if (this.state.searchResult === \"\") {\n      searchResult = React.createElement(\"p\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"...\");\n    } else {\n      searchResult = React.createElement(Link, {\n        to: \"/userpage/\" + this.state.searchResult[0].username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"User \", this.state.searchResult[0].username, \" was found.\"));\n    }\n\n    if (this.props.loggedInStatus === \"LOGGED_IN\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"loginStatus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Welcome \", this.props.username), React.createElement(ButtonToolbar, {\n        className: \"buttonRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/userpage/' + encodeURIComponent(this.props.username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"\",\n        className: \"m-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Profile\")), React.createElement(Button, {\n        variant: \"\",\n        className: \"m-2\",\n        onClick: this.searchUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Search\"), React.createElement(Button, {\n        variant: \"\",\n        className: \"m-2\",\n        onClick: this.logOut,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Log Out\")), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        className: \"loginInput text-center\",\n        type: \"text\",\n        placeholder: \"Search User\",\n        value: this.state.searchItem,\n        onChange: this.changeSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), searchResult);\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"loginStatus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"You're not logged in.\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        style: {\n          margin: \"0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        className: \"loginInput mb-2\",\n        type: \"text\",\n        placeholder: \"Username\",\n        value: this.state.user,\n        onChange: this.changeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(Form.Control, {\n        className: \"loginInput\",\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.changePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"\",\n        className: \"m-2\",\n        onClick: this.logIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Log In\"), React.createElement(Button, {\n        variant: \"\",\n        className: \"m-2\",\n        onClick: this.createAccount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Create Account\"))));\n    }\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["C:/Users/jokup/Documents/Node projects/Project1/Git/Gennamon1/Helpme/client/src/components/signin/Signin.js"],"names":["React","Component","Button","ButtonToolbar","Form","Link","FormGroup","Signin","constructor","props","changeUser","event","setState","user","target","value","changePassword","password","changeSearch","searchResult","searchItem","logIn","state","alert","fetch","method","body","JSON","stringify","username","headers","then","res","json","data","success","message","checkLoginStatus","preventDefault","createAccount","test","length","logOut","searchUser","encodeURIComponent","users","render","loggedInStatus","margin"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonToolbar from \"react-bootstrap/ButtonToolbar\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport {Link} from \"react-router-dom\";\r\nimport FormGroup from \"react-bootstrap/FormGroup\";\r\n\r\nclass Signin extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            user: \"\",\r\n            password: \"\",\r\n            searchItem: \"\",\r\n            searchResult: \"\"\r\n        };\r\n    }\r\n\r\n    changeUser = (event) => { this.setState({user: event.target.value}) }\r\n    changePassword = (event) => { this.setState({password: event.target.value}) }\r\n    changeSearch = (event) => {\r\n        if (event.target.value === \"\") this.setState({searchResult: \"\"});\r\n        this.setState({searchItem: event.target.value})\r\n    }\r\n\r\n    logIn = (event) => {\r\n        if (this.state.user === \"\" || this.state.password === \"\") alert(\"Please provide username and passowrd!\");\r\n        else {\r\n            fetch(\"api/login/login\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                username: this.state.user,\r\n                password: this.state.password\r\n                }),\r\n                headers: {\"Content-Type\": \"application/json\"}})\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if (data.success === false) alert(data.message);\r\n                    else this.props.checkLoginStatus();\r\n                    //alert(data.message);\r\n                });\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    createAccount = (event) => {\r\n        if (this.state.user === \"\" || this.state.password === \"\" || /\\s/.test(this.state.user) || /\\s/.test(this.state.password) || this.state.password.length < 6) {\r\n            alert(\"You must provide a valid username and password.\\nThey can't include any whitespace.\\nPassword must be atleast 6 characters long.\");\r\n        } else {\r\n            fetch(\"api/login/new\",{\r\n                method: \"POST\", \r\n                body: JSON.stringify({\r\n                username: this.state.user, \r\n                password: this.state.password\r\n                }), \r\n                headers: {\"Content-Type\": \"application/json\"}})\r\n                .then((res) => res.json())\r\n                .then(data => {\r\n                    if (data.success === true) alert(\"User was created succesfully\");\r\n                    else alert(data.message);\r\n                });\r\n            //alert(\"A user was submitted: \" + this.state.user + \" and their password is \" + this.state.password);\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    logOut = (event) => {\r\n        fetch(\"api/login/logout\")\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.props.checkLoginStatus();\r\n                //alert(data.message);\r\n            });\r\n        event.preventDefault();\r\n    }\r\n\r\n    searchUser = () => {\r\n        fetch(\"/userpage/api/check/\"+encodeURIComponent(this.state.searchItem))\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.success === false) this.setState({searchResult: {}});\r\n                else if (data.success === true) this.setState({searchResult: data.users});\r\n            })\r\n    }\r\n\r\n    render () {\r\n        let searchResult;\r\n        if (this.state.searchResult === \"not found\") { searchResult = <p className=\"mb-2\">No such user found</p> }\r\n        else if (this.state.searchResult === \"\") { searchResult = <p className=\"mb-2\">...</p> }\r\n        else { searchResult =\r\n            <Link to={\"/userpage/\"+this.state.searchResult[0].username}>\r\n                <p className=\"mb-2\">User {this.state.searchResult[0].username} was found.</p>\r\n            </Link>\r\n             }\r\n\r\n        if (this.props.loggedInStatus === \"LOGGED_IN\") {\r\n            return(\r\n                <div>\r\n                    <h3 className=\"loginStatus\">Welcome {this.props.username}</h3>\r\n                    <ButtonToolbar className=\"buttonRow\">\r\n                        <Link to={'/userpage/'+encodeURIComponent(this.props.username)} >\r\n                            <Button variant=\"\" className=\"m-2\">Profile</Button>\r\n                        </Link>\r\n                        <Button variant=\"\" className=\"m-2\" onClick={this.searchUser}>Search</Button>\r\n                        <Button variant=\"\" className=\"m-2\" onClick={this.logOut}>Log Out</Button>\r\n                    </ButtonToolbar>\r\n                    <Form>\r\n                        <FormGroup className=\"mb-0\">\r\n                            <Form.Control className=\"loginInput text-center\" type=\"text\" placeholder=\"Search User\" value={this.state.searchItem} onChange={this.changeSearch}/>\r\n                        </FormGroup>\r\n                    </Form>\r\n                    {searchResult}\r\n                </div>\r\n            )\r\n        } else {\r\n            return(\r\n                <div>\r\n                    <h3 className=\"loginStatus\">You're not logged in.</h3>\r\n                    <Form>\r\n                        <Form.Group style={{margin:\"0px\"}}>\r\n                        <Form.Control className=\"loginInput mb-2\" type=\"text\" placeholder=\"Username\" value={this.state.user} onChange={this.changeUser}/>\r\n                        <br/>\r\n                        <Form.Control className=\"loginInput\" type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.changePassword}/>\r\n                        <br/>\r\n                        <Button variant=\"\" className=\"m-2\" onClick={this.logIn}>Log In</Button>\r\n                        <Button variant=\"\" className=\"m-2\" onClick={this.createAccount}>Create Account</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Signin;"]},"metadata":{},"sourceType":"module"}